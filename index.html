<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Tabela Tesouro Direto</title>
    <!-- Adicionando CSS Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.2/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simple-statistics/7.8.3/simple-statistics.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>    
    <script src="https://cdn.datatables.net/1.13.2/js/dataTables.bootstrap5.min.js"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <script src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-success fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="td-logo.svg" alt="Logo" width="100%" height="21px" class="d-inline-block align-text-top"></a>
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link" href="https://www.tesourodireto.com.br/titulos/calculadora.htm" target="_blank">Calculadora</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://www.tesourodireto.com.br/titulos/precos-e-taxas.htm" target="_blank">TÃ­tulos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://www.tesourodireto.com.br/simulador/" target="_blank">Simulador</a>
          </li>
        </ul>
        <form class="d-flex" role="search">
          <div class="input-group">
            <span class="input-group-text">PerÃ­odo:</span>
            <input type="text" class="form-control" id="daterange">
            <button type="button" class="btn btn-secondary" id="reset-btn">Ver histÃ³rico completo</button>
        </div>
        </form>
      </div>
    </nav>
    
    <button type="button" class="btn btn-primary position-relative mt-5 top-300 start-0 sticky-top">
      Ãšltima atualizaÃ§Ã£o: <span id="data-atualizacao" class="badge rounded-pill bg-secondary"></span>
    </button>
    
  
    <div id="alerta" class="alert alert-warning text-center fw-bold fs-3" role="alert">
      Gerando histÃ³rico completo! Aguarde.
      <div class="progress" role="progressbar" aria-label="Warning example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
        <div id="alerta_progresso" class="progress-bar bg-warning" style="width: 100%"></div>
      </div>
    </div>
      <div class="table-responsive">                
        <table id="tesouro" class="table table-striped" style="width:100%">
          <thead class="table-success">
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Vencimento</th>
              <th>Invest. MÃ­nimo</th>
              <th class="bg-warning text-bg-warning">Ãšltima Taxa</th>
              <th class="bg-danger text-bg-danger">MÃ­nimo</th>
              <th class="bg-danger text-bg-danger">1Âº Quartil</th>
              <th class="bg-secondary text-bg-danger">Mediana</th>
              <th class="bg-success text-white">3Âº Quartil</th>
              <th class="bg-success text-white">MÃ¡ximo</th>
              <th class="bg-info text-white">MÃ©dia</th>
              <th class="bg-warning text-bg-warning">Desvio PadrÃ£o</th>
              <th class="bg-success text-white">Janela</th>
            </tr>
          </thead>
          <tbody id="treasuryBondsTableBody">
          </tbody>
        </table>
      </div>

      <footer class="footer mt-auto py-3 bg-light">
        <div class="container">
          <p class="fw-bold">ðŸ’¾ Fonte dos dados: </p>
          <p><span class="text-muted">ðŸ”Ž <a href='https://www.tesourodireto.com.br/json/br/com/b3/tesourodireto/service/api/treasurybondsinfo.json' target="_blank">https://www.tesourodireto.com.br/json/br/com/b3/tesourodireto/service/api/treasurybondsinfo.json</a></span></p>
          <p><span class="text-muted">ðŸ”Ž <a href='https://www.tesourotransparente.gov.br/ckan/dataset/taxas-dos-titulos-ofertados-pelo-tesouro-direto/resource/796d2059-14e9-44e3-80c9-2d9e30b405c1' target="_blank">https://www.tesourotransparente.gov.br/ckan/dataset/taxas-dos-titulos-ofertados-pelo-tesouro-direto/resource/796d2059-14e9-44e3-80c9-2d9e30b405c1 </span></p>
        </div>
      </footer>
    <!-- Adicionando Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
